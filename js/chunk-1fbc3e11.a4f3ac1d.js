(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1fbc3e11"],{"4e1a":function(e,a,r){"use strict";r.r(a);var n=function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("d2-container",[r("template",{slot:"header"},[e.$store.state.d2admin.menu.managerRoleAuthority.has("/admin/managerMenu/add")?r("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:e.handleAdd}},[e._v("新增")]):e._e()],1),r("el-table",{staticStyle:{width:"100%","margin-bottom":"20px"},attrs:{data:e.menulist,"row-key":"managerMenuId",border:"","tree-props":{children:"child",hasChildren:"hasChildren"}}},[r("el-table-column",{attrs:{prop:"managerMenuName",label:"菜单名称",sortable:"",width:"180"}}),r("el-table-column",{attrs:{prop:"managerMenuOrder",label:"排序"}}),r("el-table-column",{attrs:{prop:"managerMenuPath",label:"请求地址"}}),r("el-table-column",{attrs:{label:"菜单类型"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.managerMenuType?r("el-tag",[e._v("目录")]):e._e(),2==a.row.managerMenuType?r("el-tag",{attrs:{type:"success"}},[e._v("菜单")]):e._e(),3==a.row.managerMenuType?r("el-tag",{attrs:{type:"info"}},[e._v("按钮")]):e._e()]}}])}),r("el-table-column",{attrs:{label:"状态"},scopedSlots:e._u([{key:"default",fn:function(a){return[1==a.row.managerMenuStatus?r("el-tag",[e._v("显示")]):e._e(),2==a.row.managerMenuStatus?r("el-tag",{attrs:{type:"danger"}},[e._v("隐藏")]):e._e()]}}])}),r("el-table-column",{attrs:{prop:"managerMenuAuthorityTab",label:"权限标识"}}),r("el-table-column",{attrs:{align:"center",label:"图标"},scopedSlots:e._u([{key:"default",fn:function(e){return[r("d2-icon",{attrs:{name:e.row.managerMenuIcon}})]}}])}),r("el-table-column",{attrs:{prop:"managerMenuParentId",label:"父级ID"}}),r("el-table-column",{attrs:{prop:"managerMenuCreateTime",label:"创建时间"}}),r("el-table-column",{attrs:{align:"center",label:"操作",width:"200"},scopedSlots:e._u([{key:"default",fn:function(a){return[e.$store.state.d2admin.menu.managerRoleAuthority.has("/admin/managerMenu/edit")?r("el-button",{attrs:{type:"primary",icon:"el-icon-edit",size:"mini"},on:{click:function(r){return e.handleEditMenu(a.row)}}},[e._v("编辑")]):e._e(),e.$store.state.d2admin.menu.managerRoleAuthority.has("/admin/managerMenu/del")?r("el-button",{attrs:{type:"danger",icon:"el-icon-delete",size:"mini"},on:{click:function(r){return e.handleDelMenu(a.row)}}},[e._v("删除")]):e._e()]}}])})],1),r("el-dialog",{attrs:{title:"edit"===e.dialogType?"编辑":"添加",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(a){e.dialogVisible=a}}},[r("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:e.ruleForm,rules:e.rules,"label-width":"100px"}},[r("el-form-item",{attrs:{label:"上级菜单",prop:"managerMenuParentId"}},[r("el-cascader",{ref:"managerMenuParentId",attrs:{options:e.options,name:"managerMenuParentId",props:{expandTrigger:"hover",value:"managerMenuId",label:"managerMenuName",children:"child",checkStrictly:!0,emitPath:!1}},model:{value:e.ruleForm.managerMenuParentId,callback:function(a){e.$set(e.ruleForm,"managerMenuParentId",a)},expression:"ruleForm.managerMenuParentId"}})],1),r("el-form-item",{attrs:{label:"菜单名称",prop:"managerMenuName"}},[r("el-input",{model:{value:e.ruleForm.managerMenuName,callback:function(a){e.$set(e.ruleForm,"managerMenuName",a)},expression:"ruleForm.managerMenuName"}})],1),r("el-form-item",{attrs:{label:"菜单图标",prop:"managerMenuIcon"}},[r("d2-icon-select",{attrs:{"user-input":!0},model:{value:e.ruleForm.managerMenuIcon,callback:function(a){e.$set(e.ruleForm,"managerMenuIcon",a)},expression:"ruleForm.managerMenuIcon"}})],1),r("el-form-item",{attrs:{label:"菜单类型",prop:"managerMenuType"}},[r("el-radio-group",{model:{value:e.ruleForm.managerMenuType,callback:function(a){e.$set(e.ruleForm,"managerMenuType",a)},expression:"ruleForm.managerMenuType"}},[r("el-radio",{attrs:{label:1}},[e._v("目录")]),r("el-radio",{attrs:{label:2}},[e._v("菜单")]),r("el-radio",{attrs:{label:3}},[e._v("按钮/接口")])],1)],1),r("el-form-item",{attrs:{label:"菜单排序",prop:"managerMenuOrder"}},[r("el-input-number",{attrs:{min:0},model:{value:e.ruleForm.managerMenuOrder,callback:function(a){e.$set(e.ruleForm,"managerMenuOrder",a)},expression:"ruleForm.managerMenuOrder"}})],1),r("el-form-item",{attrs:{label:"路由地址",prop:"managerMenuPath"}},[r("el-input",{model:{value:e.ruleForm.managerMenuPath,callback:function(a){e.$set(e.ruleForm,"managerMenuPath",a)},expression:"ruleForm.managerMenuPath"}})],1),r("el-form-item",{attrs:{label:"权限标识",prop:"managerMenuAuthorityTab"}},[r("el-input",{attrs:{placeholder:"请输入权限标识"},model:{value:e.ruleForm.managerMenuAuthorityTab,callback:function(a){e.$set(e.ruleForm,"managerMenuAuthorityTab",a)},expression:"ruleForm.managerMenuAuthorityTab"}})],1),r("el-form-item",{attrs:{label:"菜单状态",prop:"managerMenuStatus"}},[r("el-radio-group",{model:{value:e.ruleForm.managerMenuStatus,callback:function(a){e.$set(e.ruleForm,"managerMenuStatus",a)},expression:"ruleForm.managerMenuStatus"}},[r("el-radio",{attrs:{label:1}},[e._v("显示")]),r("el-radio",{attrs:{label:2}},[e._v("隐藏")])],1)],1)],1),r("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"primary"},on:{click:function(a){return e.submitForm("ruleForm")}}},[e._v("确 定")])],1)],1)],2)},t=[],l=(r("a4d3"),r("e01a"),r("d28b"),r("d3b7"),r("3ca3"),r("ddb0"),r("96cf"),{managerMenuId:"",managerMenuName:"",managerMenuOrder:"",managerMenuPath:"",managerMenuType:"",managerMenuStatus:"",managerMenuAuthorityTab:"",managerMenuIcon:"",managerMenuParentId:""}),u={name:"menelist",data:function(){return{menulist:[],options:[{managerMenuId:"0",managerMenuName:"最顶级目录"}],dialogType:"",dialogVisible:!1,ruleForm:Object.assign({},l),rules:{managerMenuName:[{required:!0,message:"菜单名称",trigger:"blur"}],managerMenuParentId:[{required:!0,message:"请选择上级菜单",trigger:"blur"}],managerMenuType:[{required:!0,message:"请选择菜单类型",trigger:"blur"}],managerMenuPath:[{required:!0,message:"请输入路由地址",trigger:"blur"}],managerMenuAuthorityTab:[{required:!0,message:"请输入权限标识",trigger:"blur"}],managerMenuStatus:[{required:!0,message:"请选择菜单状态",trigger:"blur"}]}}},mounted:function(){this.getdata()},methods:{getdata:function(){var e=this;this.$axios.post("/v1/admin/managerMenu/menuList",{}).then((function(a){e.menulist=a.data,e.options=[{managerMenuId:"0",managerMenuName:"最顶级目录"}];var r=!0,n=!1,t=void 0;try{for(var l,u=a.data[Symbol.iterator]();!(r=(l=u.next()).done);r=!0){var o=l.value;e.options.push(o)}}catch(i){n=!0,t=i}finally{try{r||null==u.return||u.return()}finally{if(n)throw t}}}))},handleAdd:function(){var e=this;this.dialogVisible=!0,this.dialogType="add",this.ruleForm=Object.assign({},l),this.$nextTick((function(){e.$refs["ruleForm"].clearValidate()}))},handleEditMenu:function(e){this.dialogVisible=!0,this.dialogType="edit",this.ruleForm=e},submitForm:function(e){var a=this;this.$refs[e].validate((function(e){if(!e)return console.log("error submit!!"),!1;"add"===a.dialogType?a.$axios.post("/v1/admin/managerMenu/add",a.ruleForm).then((function(e){a.getdata(),a.dialogVisible=!1,a.$message.success("添加成功")})):a.$axios.post("/v1/admin/managerMenu/edit",a.ruleForm).then((function(e){a.getdata(),a.dialogVisible=!1,a.$message.success("修改成功")}))}))},handleDelMenu:function(e){var a=this;this.$confirm("确定要删除该条数据吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){return regeneratorRuntime.async((function(r){while(1)switch(r.prev=r.next){case 0:a.$axios.post("/v1/admin/managerMenu/del",{managerMenuId:e.managerMenuId}).then((function(e){a.getdata(),a.$message.success("删除成功")}));case 1:case"end":return r.stop()}}))})).catch((function(e){console.error(e)}))}}},o=u,i=(r("fdaf"),r("2877")),s=function(e){e.options.__source="src/views/authmanage/menulist.vue"},m=s,d=Object(i["a"])(o,n,t,!1,null,"7f3d83ac",null);"function"===typeof m&&m(d);a["default"]=d.exports},cad2:function(e,a,r){},fdaf:function(e,a,r){"use strict";var n=r("cad2"),t=r.n(n);t.a}}]);