(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d2ba2"],{"5a77":function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("d2-container",[a("template",{slot:"header"},[t.$store.state.d2admin.menu.managerRoleAuthority.has("/admin/productCategory/add")?a("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"mini"},on:{click:t.addCategory}},[t._v("新增")]):t._e()],1),a("el-table",{attrs:{data:t.dataList,border:""}},[a("el-table-column",{attrs:{prop:"categoryName",label:"分类名称"}}),a("el-table-column",{attrs:{prop:"categoryId",label:"分类id"}}),a("el-table-column",{attrs:{prop:"categoryOrder",label:"排序"}}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.$store.state.d2admin.menu.managerRoleAuthority.has("/admin/productCategory/edit")?a("el-button",{attrs:{size:"small",type:"primary"},on:{click:function(a){return t.handleEdit(e.row)}}},[t._v("编辑")]):t._e(),t.$store.state.d2admin.menu.managerRoleAuthority.has("/admin/productCategory/del")?a("el-button",{attrs:{size:"small",type:"danger"},on:{click:function(a){return t.handleDel(e.row)}}},[t._v("删除")]):t._e()]}}])})],1),a("el-dialog",{attrs:{title:t.edittitle,visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[a("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"名称",prop:"categoryName"}},[a("el-input",{model:{value:t.ruleForm.categoryName,callback:function(e){t.$set(t.ruleForm,"categoryName",e)},expression:"ruleForm.categoryName"}})],1),a("el-form-item",{attrs:{label:"排序"}},[a("el-input",{model:{value:t.ruleForm.categoryOrder,callback:function(e){t.$set(t.ruleForm,"categoryOrder",e)},expression:"ruleForm.categoryOrder"}})],1)],1),a("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),a("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1)],2)},o=[],i={categoryName:"",categoryOrder:""},l={name:"CategoryList",data:function(){return{listQuery:{limit:10,page:1},dataList:[],ruleForm:Object.assign({},i),rules:{categoryName:[{required:!0,message:"请输入消息标题",trigger:"blur"}],categoryIconId:[{required:!0,message:"请上传分类图片",trigger:"blur"}]},edittitle:"",dialogVisible:!1}},mounted:function(){this.getdata()},methods:{getdata:function(){var t=this;this.$axios.post("/v1/admin/productCategory/categoryList",this.listQuery).then((function(e){t.dataList=e.data,console.log(e.data)}))},addCategory:function(){this.edittitle="新增",this.dialogVisible=!0,this.ruleForm=Object.assign({},i)},handleEdit:function(t){var e=this;this.edittitle="编辑",this.dialogVisible=!0,this.$store.dispatch("mystore/mystore/GETASSISTDATA",{data:{isAssist:1,categoryId:t.categoryId},url:"/v1/admin/productCategory/edit"}).then((function(t){e.ruleForm=t.data.category}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return!1;"编辑"==e.edittitle?e.$axios.post("/v1/admin/productCategory/edit",e.ruleForm).then((function(t){e.$message.success("修改成功"),e.getdata(),e.dialogVisible=!1})):e.$axios.post("/v1/admin/productCategory/add",e.ruleForm).then((function(t){e.$message.success("新增成功"),e.getdata(),e.dialogVisible=!1}))}))},handleDel:function(t){var e=this;this.$store.dispatch("mystore/mystore/DELETEROWDATA",{data:{categoryId:t.categoryId},url:"/v1/admin/productCategory/del"}).then((function(t){e.getdata()}))}}},s=l,n=a("2877"),d=function(t){t.options.__source="src/views/goods/categoryList.vue"},u=d,c=Object(n["a"])(s,r,o,!1,null,"773d5802",null);"function"===typeof u&&u(c);e["default"]=c.exports}}]);