(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-014abb22"],{"10df":function(t,e,i){},"333d":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"pagination-container",class:{hidden:t.hidden}},[i("el-pagination",t._b({attrs:{background:t.background,"current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizes,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.handleSizeChange,"current-change":t.handleCurrentChange}},"el-pagination",t.$attrs,!1))],1)},o=[],a=(i("a9e3"),{name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},limit:{type:Number,default:20},pageSizes:{type:Array,default:function(){return[1,10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next, jumper"},background:{type:Boolean,default:!0},autoScroll:{type:Boolean,default:!0},hidden:{type:Boolean,default:!1}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.limit},set:function(t){this.$emit("update:limit",t)}}},methods:{handleSizeChange:function(t){this.$emit("pagination",{page:this.currentPage,limit:t}),this.autoScroll},handleCurrentChange:function(t){this.$emit("pagination",{page:t,limit:this.pageSize}),this.autoScroll}}}),r=a,l=(i("8bc7"),i("2877")),s=function(t){t.options.__source="src/components/Pagination/index.vue"},u=s,c=Object(l["a"])(r,n,o,!1,null,"273df47c",null);"function"===typeof u&&u(c);e["a"]=c.exports},6222:function(t,e,i){},"8bc7":function(t,e,i){"use strict";var n=i("10df"),o=i.n(n);o.a},ec1e:function(t,e,i){"use strict";var n=i("6222"),o=i.n(n);o.a},f908:function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("d2-container",[i("template",{slot:"header"},[i("div",{staticClass:"pageHeader"},[i("el-button",{attrs:{type:"primary",icon:"el-icon-plus",size:"small"},on:{click:t.addnotice}},[t._v("新增")])],1)]),i("el-table",{attrs:{data:t.dataList,border:""}},[i("el-table-column",{attrs:{align:"center",label:"标题",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.noticeTitle))]}}])}),i("el-table-column",{attrs:{align:"center",label:"内容"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.noticeContent))]}}])}),i("el-table-column",{attrs:{align:"center",label:"发送时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.noticeSendTime))]}}])}),i("el-table-column",{attrs:{align:"center",label:"创建时间",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v(t._s(e.row.noticeCreateTime))]}}])}),i("el-table-column",{attrs:{align:"center",label:"操作",fixed:"right",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[i("el-button",{staticClass:"customer",attrs:{icon:"el-icon-edit",size:"mini",type:"primary"},on:{click:function(i){return t.editinfo(e.row)}}},[t._v("编辑")]),i("el-button",{staticClass:"customer",attrs:{icon:"el-icon-edit",type:"danger",size:"mini"},on:{click:function(i){return t.delinfo(e.row)}}},[t._v("删除")])]}}])})],1),i("el-dialog",{attrs:{title:t.edittitle,visible:t.dialogVisible,width:"50%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[i("el-form",{ref:"ruleForm",staticClass:"demo-ruleForm",attrs:{model:t.ruleForm,rules:t.rules,"label-width":"100px"}},[i("el-form-item",{attrs:{label:"公告标题",prop:"noticeTitle"}},[i("el-input",{model:{value:t.ruleForm.noticeTitle,callback:function(e){t.$set(t.ruleForm,"noticeTitle",e)},expression:"ruleForm.noticeTitle"}})],1),i("el-form-item",{attrs:{label:"发送时间",prop:"noticeSendTime"}},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"选择日期时间","value-format":"yyyy-MM-dd HH:mm:ss"},model:{value:t.ruleForm.noticeSendTime,callback:function(e){t.$set(t.ruleForm,"noticeSendTime",e)},expression:"ruleForm.noticeSendTime"}})],1),i("el-form-item",{attrs:{label:"公告内容"}},[i("el-input",{attrs:{type:"textarea",autosize:{minRows:4},placeholder:"请输入内容"},model:{value:t.ruleForm.noticeContent,callback:function(e){t.$set(t.ruleForm,"noticeContent",e)},expression:"ruleForm.noticeContent"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(e){t.dialogVisible=!1}}},[t._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:function(e){return t.submitForm("ruleForm")}}},[t._v("确 定")])],1)],1),i("template",{slot:"footer"},[i("pagination",{attrs:{total:t.total,page:t.listQuery.page,limit:t.listQuery.limit},on:{"update:page":function(e){return t.$set(t.listQuery,"page",e)},"update:limit":function(e){return t.$set(t.listQuery,"limit",e)},pagination:t.getdata}})],1)],2)},o=[],a=i("333d"),r=(i("c276"),{noticeTitle:"",noticeContent:"",noticeSendTime:"",noticeId:""}),l={name:"Notice",data:function(){return{listQuery:{limit:10,page:1},total:10,dataList:[],ruleForm:Object.assign({},r),rules:{noticeTitle:[{required:!0,message:"请输入公告标题",trigger:"blur"}],noticeContent:[{required:!0,message:"请输入公告内容",trigger:"blur"}],noticeSendTime:[{required:!0,message:"请输入发送时间",trigger:"blur"}]},edittitle:"",dialogVisible:!1}},components:{Pagination:a["a"]},mounted:function(){this.getdata()},methods:{getdata:function(){var t=this;this.$axios.post("/v1/admin/notice/noticeList",this.listQuery).then((function(e){t.total=e.data.total,t.dataList=e.data.data}))},addnotice:function(){this.edittitle="新增",this.dialogVisible=!0,this.ruleForm=Object.assign({},r)},editinfo:function(t){var e=this;this.edittitle="编辑",this.$store.dispatch("mystore/mystore/GETASSISTDATA",{data:{isAssist:1,noticeId:t.noticeId},url:"/v1/admin/notice/edit"}).then((function(t){e.ruleForm=t.data.notice_data,e.dialogVisible=!0}))},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(!t)return console.log("error submit!!"),!1;e.ruleForm.noticeId?e.$axios.post("/v1/admin/notice/edit",e.ruleForm).then((function(t){e.$message.success("修改成功"),e.getdata(),e.dialogVisible=!1})):e.$axios.post("/v1/admin/notice/add",e.ruleForm).then((function(t){e.$message.success("新增成功"),e.getdata(),e.dialogVisible=!1}))}))},delinfo:function(t){var e=this;this.$store.dispatch("mystore/mystore/DELETEROWDATA",{data:{noticeId:t.noticeId},url:"/v1/admin/notice/del"}).then((function(t){e.getdata()}))}}},s=l,u=(i("ec1e"),i("2877")),c=function(t){t.options.__source="src/views/notice/notice.vue"},d=c,m=Object(u["a"])(s,n,o,!1,null,"ed1e74ce",null);"function"===typeof d&&d(m);e["default"]=m.exports}}]);